<!DOCTYPE html>
<html lang="en">

<head>
  <% include ../partials/head %>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfFYANXBg2IwEmG-hXKi3UOm--c991FbU&callback=initMap&libraries=&v=weekly" defer></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
</head>

<body>
<% include ../partials/menu %>
<div class="container-fluid bg-3">

    <div class="row">
        <div class="col">
            <h1>
            <%= page %>
            </h1>
        </div>
    </div>

    <%# Filter %>
    <div class="row my-3">
        <div class="col">
            <div class="card" id="cardTable">

                <%# Header %>
                <div class="card-header">Filter Licenses</div>

                <%# Body %>
                <div class="card-body">
                    <form action="json" id="formLicenseFilter" method="post">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-sm-6">
                                    <label for="licNumber">License Number</label>
                                    <input type="text" class="form-control" id="licNumber" name="licNumber">
                                </div>
                                <div class="col-sm-6">
                                    <label for="stnName">Station Name</label>
                                    <input type="text" class="form-control" id="stnName" name="stnName">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-sm-6">
                                    <label for="chTxFreq">Tx Frequency (MHz)</label>
                                    <input type="text" class="form-control" id="chTxFreq" name="chTxFreq">
                                </div>
                                <div class="col-sm-6">
                                    <label for="chRxFreq">Rx Frequency (MHz)</label>
                                    <input type="text" class="form-control" id="chRxFreq" name="chRxFreq">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-sm-3">
                                    <label for="licStatus">License Status</label><br>
                                    <input type="checkbox" name="licStatus" id="statusActive" value="Active">
                                    <label for="statusActive"><img class="mapsMarker" src="../images/icons/green.png"> Active</label><br>
                                    <input type="checkbox" name="licStatus" id="statusCancel" value="Cancel">
                                    <label for="statusCancel"><img class="mapsMarker" src="../images/icons/red.png"> Cancel</label><br>
                                    <input type="checkbox" name="licStatus" id="statusModify" value="Modify">
                                    <label for="statusModify"><img class="mapsMarker" src="../images/icons/yellow.png"> Modify</label><br>
                                    <input type="checkbox" name="licStatus" id="statusInvestigate" value="Investigate">
                                    <label for="statusInvestigate"><img class="mapsMarker" src="../images/icons/purple.png"> Investigate</label><br>
                                    <input type="checkbox" name="licStatus" id="statusInProgress" value="In Progress">
                                    <label for="statusInProgress"><img class="mapsMarker" src="../images/icons/lightblue.png"> In Progress</label><br>
                                    <input type="checkbox" name="licStatus" id="statusArchive" value="Archive">
                                    <label for="statusArchive"><img class="mapsMarker" src="../images/icons/orange.png"> Archive</label><br>
                                    <input type="checkbox" name="licStatus" id="statusComplete" value="Complete">
                                    <label for="statusComplete"><img class="mapsMarker" src="../images/icons/blue.png"> Complete</label><br>
                                    <input type="checkbox" name="licStatus" id="statusPagingSZ" value="PagingSZ">
                                    <label for="statusPagingSZ"><img class="mapsMarker" src="../images/icons/lightgreen.png"> Paging/SZ Freq</label><br>
                                    <input type="checkbox" name="licStatus" id="statusTemporary" value="Temporary">
                                    <label for="statusTemporary"><img class="mapsMarker" src="../images/icons/grey.png"> Temporary</label>
                                </div>
                                <div class="col-sm-9">
                                    <label for="licTags">Tags (seperate by comma)</label>
                                    <input type="text" class="form-control" id="licTags" name="licTags">
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-success">Submit</button>
                        <a id="formClear" class="btn btn-info" href="#" role="button">Clear</a>
                    </form>
                </div>

            </div>
        </div>
    </div>

    <%# Licenses %>
    <div class="row my-3">
        <div class="col">
            <div class="card" id="cardTable">

                <%# Header %>
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs">
                        <li class="nav-item">
                            <a class="nav-link" id="licenseCardNavTable" href="#">Table</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" id="licenseCardNavMap" href="#">Map</a>
                        </li>
                    </ul>
                </div>

                <%# Map %>
                <div class="card-body p-0">
                    <div id="licenseMap"></div>
                    <div id="licenseTableContainer" style="display: none;">
                        <a id="tableExport" class="btn btn-warning" href="#" role="button">Export</a>
                        <div id="licenseTable"></div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
  crossorigin="anonymous"></script>
<script src="/javascripts/googlemap.js"></script>

<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

</body>

</html>