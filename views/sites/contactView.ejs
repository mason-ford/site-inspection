<!DOCTYPE html>
<html lang="en">
<head>
  <% include ../partials/head %> 
</head>
<body>
<% include ../partials/menu %>
<div class="container bg-3">    

  <div class="row align-items-center">
    <div class="col-9">
      <h1><i class="bi bi-person"></i> <%= site.name %> Contacts</h1>
    </div>
    <div class="col-3">
      <a class="btn btn-primary float-right" href="/sites/<%= site.id %>/contacts/add"><i class="bi bi-plus-circle"></i> Add Contact</a>
    </div>
  </div>

  <%# Contact %>
  <div class="row">
    <div class="col-sm">
      <% if (contacts && contacts.length > 0) {%>
        <% for (let i=0; i < contacts.length; i++) { %>
        <div class="card mb-3">

          <div class="card-header">
            <div class="row align-items-center">
              <div class="col-6">
                <%= contacts[i].name %>
              </div>
              <div class="col-6">
                <a class="btn btn-warning float-right" href="/sites/<%= site.id %>/contacts/edit/<%= contacts[i].id %>"><i class="bi bi-pencil"></i> Edit</a>
              </div>
            </div>
          </div>

          <ul class="list-group list-group-flush" id="airFilterList">
            <li class="list-group-item">
                <p class="card-text"><strong>Name:</strong> <%= contacts[i].name %></p>
                <p class="card-text"><strong>Number:</strong> <%= contacts[i].number %></p>
                <p class="card-text"><strong>Email:</strong> <%= contacts[i].email %></p>
                <p class="card-text"><strong>Information:</strong> <div style="white-space: pre-wrap"><%= contacts[i].information %></div></p>
            </li>
          </ul>

        </div>
        <% } %>
      <% } else { %>
        <span>
          No contacts
        </span>
      <% } %>
    </div>
  </div>

  <div class="row">
    <div class="col-sm">
      <a href="/sites/<%= site.id %>" class="btn btn-secondary float-right">Back to Site</a>
    </div>
  </div>

</div>
<% include ../partials/script %>
</body>
</html>
