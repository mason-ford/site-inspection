<!DOCTYPE html>
<html lang="en">
<head>
  <% include ../partials/head %> 
</head>
<body>
<% include ../partials/menu %>
<div class="container bg-3">

  <div class="row">
    <div class="col-sm">
      <h1><i class="bi bi-pencil"></i> Edit Site</h1>
    </div>
  </div>

  <form class="site-edit-form" action="" data-site-id="<%= site.id %>" method="post">

    <%# Information %>
    <div class="row my-3">
      <div class="col-sm">
        <div class="card">

          <div class="card-header">
            <div class="row align-items-center">
              <div class="col-9">
                Update Site
              </div>
              <div class="col-3">
                <button type="submit" name="send" value="delete" onclick="return confirm('Are you sure you want to delete this item?');" class="btn btn-danger float-right"><i class="bi bi-trash"></i> Delete</button>
              </div>
            </div>
          </div>

          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <h4>Information</h4>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="site-name">Name</label>
                  <input type="text" class="form-control" name="site_name" id="site-name" value="<%= site.name %>" required title="Site name">
                </div>
                <div class="form-group col-md-3">
                  <label for="site-type">Acronym</label>
                  <input type="text" class="form-control" name="site_acronym" id="site-acronym" value="<%= site.acronym %>" required title="Site type">
                </div>
                <div class="form-group col-md-3">
                  <label for="site-description">Number</label>
                  <input type="text" class="form-control" name="site_number" id="site-number" value="<%= site.number %>" required title="Site description">
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-12">
                  <label for="site-address">Address</label>
                  <input type="text" class="form-control" name="site_address" id="site-address" value="<%= site.address %>" title="Site address">
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="site-lat">Latitude</label>
                  <input type="text" class="form-control" name="site_lat" id="site-lat" value="<%= site.latlong.y %>" required title="Latitude">
                </div>
                <div class="form-group col-md-6">
                  <label for="site-long">Longitude</label>
                  <input type="text" class="form-control" name="site_long" id="site-long" value="<%= site.latlong.x %>" required title="Longitude">
                </div>
              </div>
            </li>
            <li class="list-group-item">
              <h4>Access</h4>
              <div class="form-row">
                <div class="form-group col-md-2">
                  <label>Standard Key</label>
                  <div class="form-check">
                      <input class="form-check-input" type="radio" id="access-key-standard-yes" name="access_key_standard" value="true" <%= site.standardKey ? 'checked' : '' %>>
                      <label class="form-check-label" for="access-key-standard-yes">Yes</label>
                  </div>
                  <div class="form-check">
                      <input class="form-check-input" type="radio" id="access-key-standard-no" name="access_key_standard" value="false" <%= !site.standardKey ? 'checked' : '' %>>
                      <label class="form-check-label" for="access-key-standard-no">No</label>
                  </div>
                </div>
                <div class="form-group col-md-10">
                  <label for="access-key-instructions">Key Instructions</label>
                  <input type="text" class="form-control" name="access_key_instructions" id="access-key-instructions" value="<%= site.keyInstructions %>" title="Key Instructions">
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-12">
                  <label for="access-instructions">Instructions</label>
                  <textarea class="form-control" name="access_instructions" id="access-instructions" title="Access Instructions" rows="5"><%= site.accessInstructions %></textarea>
                  <div class="siteAccessInstructions"></div>
                </div>
              </div>
            </li>
          </ul>

          <div class="card-footer">
            <div class="form-row">
              <div class="col-sm">
                <button type="submit" name="send" value="update" class="btn btn-success float-right"><i class="bi bi-check-circle"></i> Update</button>
                <a href="../<%= site.id %>" class="btn btn-secondary float-left">Cancel</a> 
              </div>
            </div>
          </div>    

        </div>
      </div>
    </div>

  </form>

</div>
<% include ../partials/script %>
</body>
</html>
